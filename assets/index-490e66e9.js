import{r as o,j as i,I as S,c as g}from"./index-fef9e21c.js";import{S as y,B as j,s as v,a as F}from"./sleep-2d836259.js";import{u as A,C as I}from"./use-fucus-fee32e23.js";const R="_form_1ai53_1",V="_resultList_1ai53_8",C="_resultList__item_1ai53_15",N="_circle_invisible_1ai53_19",n={form:R,resultList:V,resultList__item:C,circle_invisible:N},l=t=>t<2?1:l(t-2)+l(t-1),w=t=>[...Array(t)].map((r,e)=>l(e));function*B(t){const r=w(t+1);for(let e=0;e<=t+1;e++)yield r.slice(0,e)}const T=()=>{const[t,r]=o.useState(""),[e,m]=o.useState([]),[_,f]=o.useState(!1),[c,u]=o.useState(!1),[d,b]=A(),p=c||!t||+t>19,x=s=>{const a=s.currentTarget.value.replace(/[^\d]/,"");r(a)},h=async s=>{s.preventDefault(),u(!0),f(!0);const a=B(+t);for(const L of a)m(L),await v(F);u(!1),r(""),b()};return i.jsxs(y,{title:"Последовательность Фибоначчи",children:[i.jsxs("form",{className:n.form,onSubmit:s=>void h(s),children:[i.jsx(S,{type:"number",placeholder:"Введите число",value:t,maxLength:19,max:19,isLimitText:!0,onChange:s=>x(s),disabled:c,ref:d,autoFocus:!0,"data-test":"input"}),i.jsx(j,{text:"Рассчитать",type:"submit",isLoader:c,disabled:p,"data-test":"button"})]}),_&&i.jsx("ul",{className:g(n.resultList,"mt-24"),children:e.map((s,a)=>i.jsx("li",{className:n.resultList__item,children:i.jsx(I,{state:"default",letter:s.toString(),index:a,"data-test":`circle-${a}`})},a))})]})};export{T as FibonacciPage};
