import{r as c,j as o,I as v,c as y}from"./index-298ce0e6.js";import{S as b,B as C,s as I,D as w}from"./sleep-20444c3a.js";import{u as A,C as L}from"./use-fucus-6086a647.js";import{g as h,s as R}from"./get-state-array-a2cbb5c2.js";function*D(u){const n=[...u],l=u.length;let t=0,s=l-1,i=h(l);for(yield{arr:n,state:i};t<=s;)i=i.map((d,a)=>a===t||a===s?"changing":a<t||a>s?"modified":"default"),yield{arr:n,state:i},R(n,t,s),t++,s--;yield{arr:n,state:h(l,"modified")}}const E="_form_rh35z_1",S={form:E,"result-list":"_result-list_rh35z_9"},B=()=>{const[u,n]=c.useState(""),[l,t]=c.useState([""]),[s,i]=c.useState([]),[d,a]=c.useState(!1),[m,f]=c.useState(!1),[g,x]=A(),j=r=>{const e=r.currentTarget.value;n(e),t(e.split("")),a(!1)},_=async r=>{r.preventDefault(),f(!0),a(!0);const e=D(l);for(const p of e)t(p.arr),i(p.state),await I(w);f(!1),x()};return o.jsxs(b,{title:"Строка",children:[o.jsxs("form",{className:S.form,onSubmit:r=>void _(r),children:[o.jsx(v,{value:u,maxLength:11,isLimitText:!0,onChange:j,autoComplete:"off",disabled:m,autoFocus:!0,ref:g,"data-test":"input"}),o.jsx(C,{text:"Развернуть",type:"submit",isLoader:m,disabled:m||!u,"data-test":"button"})]}),d&&o.jsx("ul",{className:y(S["result-list"],"mt-24"),children:l.map((r,e)=>o.jsx("li",{role:"presentation",children:o.jsx(L,{state:s[e],letter:r,"data-test":`circle-${e}`})},e))})]})};export{B as StringPage};
