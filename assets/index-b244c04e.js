import{j as n,a as x,r as u,b as S,c as h}from"./index-aa68e019.js";import{S as $,B as g,s as w,a as k}from"./sleep-5681d319.js";import{g as p,s as A}from"./get-state-array-a2cbb5c2.js";const I=({index:a,state:r="default",extraClass:t=""})=>n.jsxs("div",{className:`${x.content} ${t}`,children:[n.jsx("div",{className:`${x.column} ${x[r]}`,style:{height:320*a/100||1}}),n.jsx("p",{className:"text text_type_column text_color_input mt-3",children:a})]}),N=({label:a="Введите текст",extraClass:r="",disabled:t=!1,...l})=>{const o=u.useId();return n.jsxs("div",{className:`${S.content} ${r}`,children:[n.jsx("input",{className:S.input,type:"radio",id:o,...l,disabled:t}),n.jsx("label",{className:`text text_type_button ${S.label}`,htmlFor:o,children:a})]})},R=(a,r=100)=>[...Array(a)].map(()=>Math.floor(r*Math.random())),q=(a,r)=>Math.floor(Math.random()*(r-a+1)+a);function*E({array:a,order:r="desc"}){const t=[...a],l=t.length;let o=p(l);yield{arr:t,state:o};for(let s=0;s<l;s++){let e=s;for(let c=s+1;c<l;c++)o=o.map((d,_)=>s>0&&_<s?"modified":_===s||_===c?"changing":"default"),yield{arr:t,state:o},e=r==="asc"&&t[c]<t[e]?c:e,e=r==="desc"&&t[c]>t[e]?c:e;e!==s&&A(t,s,e),o=o.map((c,d)=>d<=s?"modified":"default"),yield{arr:t,state:o}}}function*T({array:a,order:r="asc"}){const t=[...a],l=t.length;let o=p(l);for(let s=0;s<l;s++){o=o.map((e,c)=>s>0&&c>l-s-1?"modified":"default"),yield{arr:t,state:o};for(let e=0;e<l-s-1;e++)o=o.map((c,d)=>s>0&&d>l-s-1?"modified":d===e||d===e+1?"changing":"default"),yield{arr:t,state:o},(r==="asc"&&t[e]>t[e+1]||r==="desc"&&t[e]<t[e+1])&&A(t,e,e+1)}yield{arr:t,state:p(l,"modified")}}const D="_form_1w9xq_1",G="_resultList_1w9xq_7",B="_resultList__item_1w9xq_16",F="_circle_invisible_1w9xq_20",f={form:D,resultList:G,resultList__item:B,circle_invisible:F},P=5,H=17,O=60,V=()=>{const a=q(P,H);return R(a,O)},U=()=>{const[a,r]=u.useState([]),[t,l]=u.useState("selectionSort"),[o,s]=u.useState(void 0),[e,c]=u.useState([]),[d,_]=u.useState("idle"),m=d==="processing";u.useEffect(()=>{y()},[]);const y=()=>{r(V()),c([])},C={selectionSort:i=>E({array:a,order:i}),bubbleSort:i=>T({array:a,order:i})},j=i=>l(i.currentTarget.value),v=async i=>{const b=i.currentTarget.value;s(i.currentTarget.value),_("processing");const M=C[t](b);for(const L of M)r(L.arr),c(L.state),await w(k);_("finished"),s(void 0)};return n.jsxs($,{title:"Array sorting",children:[n.jsxs("form",{className:f.form,children:[n.jsx(N,{label:"Выбор",name:"sortMethod",value:"selectionSort",checked:t==="selectionSort",onChange:j,disabled:m}),n.jsx(N,{label:"Пузырёк",name:"sortMethod",value:"bubbleSort",checked:t==="bubbleSort",onChange:j,extraClass:"ml-20",disabled:m}),n.jsx(g,{text:"По возрастанию",sorting:"asc",value:"asc",onClick:v,type:"button",isLoader:m&&o==="asc",disabled:m,extraClass:h("ml-40",f.form__button)}),n.jsx(g,{text:"По убыванию",sorting:"desc",value:"desc",onClick:v,type:"button",isLoader:m&&o==="desc",disabled:m,extraClass:h("ml-6",f.form__button)}),n.jsx(g,{text:"Новый массив",type:"button",onClick:y,disabled:m,extraClass:h("ml-40",f.form__button)})]}),n.jsx("ul",{className:h(f.resultList,"mt-24"),children:a.map((i,b)=>n.jsx("li",{className:f.resultList__item,children:n.jsx(I,{index:i,state:e[b]})},b))})]})};export{U as SortingPage};
