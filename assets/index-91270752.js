import{j as r,c as b,a as S,r as _,b as x}from"./index-062b9af9.js";import{S as N,B as g,s as C,a as M}from"./sleep-e23208a3.js";import{g as p,s as A}from"./get-state-array-a2cbb5c2.js";const w=({index:a,state:n="default",extraClass:t=""})=>r.jsxs("div",{className:b(S.content,{[t]:!!t}),children:[r.jsx("div",{className:b(S.column,S[`column__state_${n}`]),style:{height:320*a/100||1}}),r.jsx("p",{className:b("text text_color_input mt-3",S.column__index),children:a})]}),k=({label:a="Введите текст",extraClass:n="",disabled:t=!1,...c})=>{const o=_.useId();return r.jsxs("div",{className:`${x.content} ${n}`,children:[r.jsx("input",{className:x.input,type:"radio",id:o,...c,disabled:t}),r.jsx("label",{className:`text text_type_button ${x.label}`,htmlFor:o,children:a})]})},I=(a,n=100)=>[...Array(a)].map(()=>Math.floor(n*Math.random())),$=(a,n)=>Math.floor(Math.random()*(n-a+1)+a);function*E({array:a,order:n="desc"}){const t=[...a],c=t.length;let o=p(c);yield{arr:t,state:o};for(let s=0;s<c;s++){let e=s;for(let l=s+1;l<c;l++)o=o.map((u,f)=>s>0&&f<s?"modified":f===s||f===l?"changing":"default"),yield{arr:t,state:o},e=n==="asc"&&t[l]<t[e]?l:e,e=n==="desc"&&t[l]>t[e]?l:e;e!==s&&A(t,s,e),o=o.map((l,u)=>u<=s?"modified":"default"),yield{arr:t,state:o}}}function*T({array:a,order:n="asc"}){const t=[...a],c=t.length;let o=p(c);for(let s=0;s<c;s++){o=o.map((e,l)=>s>0&&l>c-s-1?"modified":"default"),yield{arr:t,state:o};for(let e=0;e<c-s-1;e++)o=o.map((l,u)=>s>0&&u>c-s-1?"modified":u===e||u===e+1?"changing":"default"),yield{arr:t,state:o},(n==="asc"&&t[e]>t[e+1]||n==="desc"&&t[e]<t[e+1])&&A(t,e,e+1)}yield{arr:t,state:p(c,"modified")}}const D="_form_18skr_1",G="_resultList_18skr_11",F="_circle_invisible_18skr_23",P="_selectionRadio_18skr_27",H="_bubbleRadio_18skr_31",O="_ascBtn_18skr_35",V="_descBtn_18skr_39",Y="_newArrBtn_18skr_43",i={form:D,resultList:G,circle_invisible:F,selectionRadio:P,bubbleRadio:H,ascBtn:O,descBtn:V,newArrBtn:Y},q=17,z=17,J=100,K=()=>{const a=$(q,z);return I(a,J)},tt=()=>{const[a,n]=_.useState([]),[t,c]=_.useState("selectionSort"),[o,s]=_.useState(void 0),[e,l]=_.useState([]),[u,f]=_.useState("idle"),m=u==="processing";_.useEffect(()=>{j()},[]);const j=()=>{n(K()),l([])},R={selectionSort:d=>E({array:a,order:d}),bubbleSort:d=>T({array:a,order:d})},y=d=>c(d.currentTarget.value),v=async d=>{const h=d.currentTarget.value;s(d.currentTarget.value),f("processing");const L=R[t](h);for(const B of L)n(B.arr),l(B.state),await C(M);f("finished"),s(void 0)};return r.jsxs(N,{title:"Сортировка массива",children:[r.jsxs("form",{className:i.form,children:[r.jsx(k,{label:"Выбор",name:"sortMethod",value:"selectionSort",checked:t==="selectionSort",onChange:y,disabled:m,extraClass:i.selectionRadio}),r.jsx(k,{label:"Пузырёк",name:"sortMethod",value:"bubbleSort",checked:t==="bubbleSort",onChange:y,disabled:m,extraClass:i.bubbleRadio}),r.jsx(g,{text:"По возрастанию",sorting:"asc",value:"asc",onClick:v,type:"button",isLoader:m&&o==="asc",disabled:m,extraClass:b(i.ascBtn,i.form__button)}),r.jsx(g,{text:"По убыванию",sorting:"desc",value:"desc",onClick:v,type:"button",isLoader:m&&o==="desc",disabled:m,extraClass:b(i.descBtn,i.form__button)}),r.jsx(g,{text:"Новый массив",type:"button",onClick:j,disabled:m,extraClass:b(i.newArrBtn,i.form__button)})]}),r.jsx("ul",{className:b(i.resultList,"mt-24"),children:a.map((d,h)=>r.jsx("li",{className:i.resultList__item,children:r.jsx(w,{index:d,state:e[h]})},h))})]})};export{tt as SortingPage};
