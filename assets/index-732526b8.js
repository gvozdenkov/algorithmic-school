import{r as c,j as n,I as j,c as v}from"./index-fef9e21c.js";import{S as y,B as b,s as C,D as I}from"./sleep-2d836259.js";import{u as w,C as A}from"./use-fucus-fee32e23.js";import{g as S,s as N}from"./get-state-array-a2cbb5c2.js";const R="_form_1cknu_1",k="_resultList_1cknu_8",D="_resultListresultList__item_1cknu_15",d={form:R,resultList:k,resultListresultList__item:D};function*E(l){const o=[...l],i=l.length;let t=0,s=i-1,u=S(i);for(yield{arr:o,state:u};t<=s;)u=u.map((f,a)=>a===t||a===s?"changing":a<t||a>s?"modified":"default"),yield{arr:o,state:u},N(o,t,s),t++,s--;yield{arr:o,state:S(i,"modified")}}const T=()=>{const[l,o]=c.useState(""),[i,t]=c.useState([""]),[s,u]=c.useState([]),[f,a]=c.useState(!1),[m,p]=c.useState(!1),[g,h]=w(),L=r=>{const e=r.currentTarget.value;o(e),t(e.split("")),a(!1)},x=async r=>{r.preventDefault(),p(!0),a(!0);const e=E(i);for(const _ of e)t(_.arr),u(_.state),await C(I);p(!1),h()};return n.jsxs(y,{title:"Строка",children:[n.jsxs("form",{className:d.form,onSubmit:r=>void x(r),children:[n.jsx(j,{value:l,maxLength:11,isLimitText:!0,onChange:L,autoComplete:"off",disabled:m,autoFocus:!0,ref:g,"data-test":"input"}),n.jsx(b,{text:"Развернуть",type:"submit",isLoader:m,disabled:m||!l,"data-test":"button"})]}),f&&n.jsx("ul",{className:v(d.resultList,"mt-24"),children:i.map((r,e)=>n.jsx("li",{className:d.resultList__item,role:"presentation",children:n.jsx(A,{state:s[e],letter:r,"data-test":`circle-${e}`})},e))})]})};export{T as StringPage};
