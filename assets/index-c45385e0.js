import{r as i,j as o,I as y,c as _}from"./index-298ce0e6.js";import{S as j,B as F,s as A,a as I}from"./sleep-20444c3a.js";import{u as w,C as L}from"./use-fucus-6086a647.js";const c=t=>t<2?1:c(t-2)+c(t-1),R=t=>[...Array(t)].map((r,s)=>c(s));function*V(t){const r=R(t+1);for(let s=0;s<=t+1;s++)yield r.slice(0,s)}const v="_form_1wqhz_1",l={form:v,"result-list":"_result-list_1wqhz_9"},E=()=>{const[t,r]=i.useState(""),[s,f]=i.useState([]),[m,d]=i.useState(!1),[n,u]=i.useState(!1),[p,b]=w(),x=n||!t||+t>19,h=e=>{const a=e.currentTarget.value.replace(/[^\d]/,"");r(a)},S=async e=>{e.preventDefault(),u(!0),d(!0);const a=V(+t);for(const g of a)f(g),await A(I);u(!1),r(""),b()};return o.jsxs(j,{title:"Последовательность Фибоначчи",children:[o.jsxs("form",{className:l.form,onSubmit:e=>void S(e),children:[o.jsx(y,{type:"number",placeholder:"Введите число",value:t,maxLength:19,max:19,isLimitText:!0,onChange:e=>h(e),disabled:n,ref:p,autoFocus:!0,"data-test":"input"}),o.jsx(F,{text:"Рассчитать",type:"submit",isLoader:n,disabled:x,"data-test":"button"})]}),m&&o.jsx("ul",{className:_(l["result-list"],"mt-24"),children:s.map((e,a)=>o.jsx("li",{children:o.jsx(L,{state:"default",letter:e.toString(),index:a,"data-test":`circle-${a}`})},a))})]})};export{E as FibonacciPage};
